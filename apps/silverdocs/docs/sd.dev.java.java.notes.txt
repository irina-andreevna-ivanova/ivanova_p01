Java Notes ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

___________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Memory allocation
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Stack - the place where method names, local variables, intermediate computations and return values (if any)
        are kept. The stack contains stack frames. Upon each invocation, the JVM pushes another frame
        in the stack. Upon return from a method, the JVM pops the frame from the stack.
      - member variables
      - each thread has its own stack instance
      - stack is thread safe
      
      -Xss512k -> control the size of the stack
      
Heap  - the place where the instance variables and the object data are kept. To allocate the memory for
        the heap, use -Xmn, -Xms, -Xmx
      - local variables
      - all threads share the same heap
      - heap is not thread safe
      
Setting Java heap for various apps: 
http://javahowto.blogspot.com/2006/06/6-common-errors-in-setting-java-heap.html

___________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Collections
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Collection - Set   - SortedSet
           - List
           - Queue
Map        - SortedMap







---------------

Generators:
- problem with collections: you need to implement your own generators, since Collections.fill(), Collections.nCopies() populates the list with the SAME instance
- use Abstract classes in order to implement your own custom Collections or Maps
- one good idea is to use Flyweight for creating generation-collections or maps: fake the actual list content, storing the index instead of the actual element in the list, or compute
  the item to return only when the item is requested

- optional operations and unsupported operations (such as operations on fixed-size lists)
- Collections.unmodifiableList()  
- Collections.unmodifiableSet()  
- Collections.unmodifiableMap()  
- Collections.unmodifiableSortedSet()  
- Collections.unmodifiableSortedMap()  

List
    - LinkedList.listIterator()
    
Set
        - objects added to Set must at least implement equals()
        - HashSet: optimized for fast lookup. Object must implement hashCode(). Does not guarantee any order.
        - TreeSet: guarantees a particular order, ascending. The objects must implement Comparable, or a Comparator needs to be provided
        - LinkedHashSet: guarantees the insertion order. Uses internally a linked list to keep the insertion order. Objects should implement hashCode()
        - equals() and hashCode() should be overidded in group
    - SortedSet
        - methods: first(), last(), subSet(), headSet(), tailSet()
        
Queue
    - PriorityQueue
    - LinkedList
     
Dequeue
        - double-ended queue
        - add and remove elements from either end
        - putFirst, putLast, offerFirst, offerLast, ....
    - LinkedList
    
Map
        - the keys must implement equals(), hashCode(), Comparable (depending on the selected Map implementation)
    - HashMap
    - TreeMap
    - LinkedHashMap
    - WeakHashMap
    - ConcurrentHashMap
    - IdentityHashMap




___________________________________________________________________________________________________________________________________________________________________________________________________________________________________
Using java.net Authenticator
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Authenticator.setDefault(new MyAuthenticator("user","password"));
URL url = new URL("http://localhost:5300/database?_query='for $a in collection('test')/types return $a'");
InputStream resultStream = url.openStream();

class MyAuthenticator extends Authenticator {
  private String username, password;

  public MyAuthenticator(String username, String password) {
      this.username = username;
      this.password = password;
  }

  // This method is called when a password-protected URL is accessed
  protected PasswordAuthentication getPasswordAuthentication() {
      return new PasswordAuthentication(username, password.toCharArray());
  }
}